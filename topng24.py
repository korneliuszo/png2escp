#!/usr/bin/env python3

from PIL import Image
import os
import glob
import struct
import bitstring

def topng(glyphname,xsize,start):
    im=Image.new("1",(12,24),1)
    f=open("PJWIP2135CS1.BIN","rb")
    f.seek(start)
    glyph=f.read(3*xsize)
    bp=bitstring.BitArray('int:24=0')
    for xi in range(0,xsize):
        byte=bitstring.Bits(glyph[(xi*3):(xi*3+3)])
        for yii in range(0,24):
            black= byte[yii]
            bpb=bp[yii]
            if bpb:
                bpb=0
            else:
                bpb=black
            bp[yii]=bpb
            if bpb:
                xc=xi
                yc=yii
                im.paste(0,(xc,yc,xc+1,yc+1))


    im.save("out24/"+glyphname+".png","PNG")

try:
    os.mkdir("out24")
except FileExistsError:
    pass
files = glob.glob('out24/*')
for f in files:
    os.remove(f)

topng(' ',9,0x10000+3*9*0)
topng('!',9,0x10000+3*9*1)
topng('"',9,0x10000+3*9*2)
topng('#',9,0x10000+3*9*3)
topng('$',9,0x10000+3*9*4)
topng('%',9,0x10000+3*9*5)
topng('&',9,0x10000+3*9*6)
topng("'",9,0x10000+3*9*7)
topng('(',9,0x10000+3*9*8)
topng(')',9,0x10000+3*9*9)
topng('*',9,0x10000+3*9*10)
topng('+',9,0x10000+3*9*11)
topng(',',9,0x10000+3*9*12)
topng('-',9,0x10000+3*9*13)
topng('.',9,0x10000+3*9*14)
topng('/',9,0x10000+3*9*15)
#topng('0',9,0x10000+3*9*16)
topng('1',9,0x10000+3*9*17)
topng('2',9,0x10000+3*9*18)
topng('3',9,0x10000+3*9*19)
topng('4',9,0x10000+3*9*20)
topng('5',9,0x10000+3*9*21)
topng('6',9,0x10000+3*9*22)
topng('7',9,0x10000+3*9*23)
topng('8',9,0x10000+3*9*24)
topng('9',9,0x10000+3*9*25)
topng(':',9,0x10000+3*9*26)
topng(';',9,0x10000+3*9*27)
topng('<',9,0x10000+3*9*28)
topng('=',9,0x10000+3*9*29)
topng('>',9,0x10000+3*9*30)
topng('?',9,0x10000+3*9*31)
topng('@',9,0x10000+3*9*32)
topng('A',9,0x10000+3*9*33)
topng('B',9,0x10000+3*9*34)
topng('C',9,0x10000+3*9*35)
topng('D',9,0x10000+3*9*36)
topng('E',9,0x10000+3*9*37)
topng('F',9,0x10000+3*9*38)
topng('G',9,0x10000+3*9*39)
topng('H',9,0x10000+3*9*40)
topng('I',9,0x10000+3*9*41)
topng('J',9,0x10000+3*9*42)
topng('K',9,0x10000+3*9*43)
topng('L',9,0x10000+3*9*44)
topng('M',9,0x10000+3*9*45)
topng('N',9,0x10000+3*9*46)
topng('O',9,0x10000+3*9*47)
topng('P',9,0x10000+3*9*48)
topng('Q',9,0x10000+3*9*49)
topng('R',9,0x10000+3*9*50)
topng('S',9,0x10000+3*9*51)
topng('T',9,0x10000+3*9*52)
topng('U',9,0x10000+3*9*53)
topng('V',9,0x10000+3*9*54)
topng('W',9,0x10000+3*9*55)
topng('X',9,0x10000+3*9*56)
topng('Y',9,0x10000+3*9*57)
topng('Z',9,0x10000+3*9*58)
topng('[',9,0x10000+3*9*59)
topng('\\',9,0x10000+3*9*60)
topng(']',9,0x10000+3*9*61)
topng('^',9,0x10000+3*9*62)
topng('_',9,0x10000+3*9*63)
topng('`',9,0x10000+3*9*64)
topng('a',9,0x10000+3*9*65)
topng('b',9,0x10000+3*9*66)
topng('c',9,0x10000+3*9*67)
topng('d',9,0x10000+3*9*68)
topng('e',9,0x10000+3*9*69)
topng('f',9,0x10000+3*9*70)
topng('g',9,0x10000+3*9*71)
topng('h',9,0x10000+3*9*72)
topng('i',9,0x10000+3*9*73)
topng('j',9,0x10000+3*9*74)
topng('k',9,0x10000+3*9*75)
topng('l',9,0x10000+3*9*76)
topng('m',9,0x10000+3*9*77)
topng('n',9,0x10000+3*9*78)
topng('o',9,0x10000+3*9*79)
topng('p',9,0x10000+3*9*80)
topng('q',9,0x10000+3*9*81)
topng('r',9,0x10000+3*9*82)
topng('s',9,0x10000+3*9*83)
topng('t',9,0x10000+3*9*84)
topng('u',9,0x10000+3*9*85)
topng('v',9,0x10000+3*9*86)
topng('w',9,0x10000+3*9*87)
topng('x',9,0x10000+3*9*88)
topng('y',9,0x10000+3*9*89)
topng('z',9,0x10000+3*9*90)
topng('{',9,0x10000+3*9*91)
topng('|',9,0x10000+3*9*92)
topng('}',9,0x10000+3*9*93)
topng('~',9,0x10000+3*9*94)
topng('0',9,0x10000+3*9*95)

topng('░',12,0x0e2f0+3*12*0)
topng('▒',12,0x0e2f0+3*12*1)
topng('▓',12,0x0e2f0+3*12*2)
topng('│',12,0x0e2f0+3*12*3)
topng('┤',12,0x0e2f0+3*12*4)
topng('╡',12,0x0e2f0+3*12*5)
topng('╢',12,0x0e2f0+3*12*6)
topng('╖',12,0x0e2f0+3*12*7)
topng('╕',12,0x0e2f0+3*12*8)
topng('╣',12,0x0e2f0+3*12*9)
topng('║',12,0x0e2f0+3*12*10)
topng('╗',12,0x0e2f0+3*12*11)
topng('╝',12,0x0e2f0+3*12*12)
topng('╜',12,0x0e2f0+3*12*13)
topng('╛',12,0x0e2f0+3*12*14)
topng('┐',12,0x0e2f0+3*12*15)
topng('└',12,0x0e2f0+3*12*16)
topng('┴',12,0x0e2f0+3*12*17)
topng('┬',12,0x0e2f0+3*12*18)
topng('├',12,0x0e2f0+3*12*19)
topng('─',12,0x0e2f0+3*12*20)
topng('┼',12,0x0e2f0+3*12*21)
topng('╞',12,0x0e2f0+3*12*22)
topng('╟',12,0x0e2f0+3*12*23)
topng('╚',12,0x0e2f0+3*12*24)
topng('╔',12,0x0e2f0+3*12*25)
topng('╩',12,0x0e2f0+3*12*26)
topng('╦',12,0x0e2f0+3*12*27)
topng('╠',12,0x0e2f0+3*12*28)
topng('═',12,0x0e2f0+3*12*29)
topng('╬',12,0x0e2f0+3*12*30)
topng('╧',12,0x0e2f0+3*12*31)
topng('╨',12,0x0e2f0+3*12*32)
topng('╤',12,0x0e2f0+3*12*33)
topng('╥',12,0x0e2f0+3*12*34)
topng('╨',12,0x0e2f0+3*12*35)
topng('╘',12,0x0e2f0+3*12*36)
topng('╒',12,0x0e2f0+3*12*37)
topng('╓',12,0x0e2f0+3*12*38)
topng('╫',12,0x0e2f0+3*12*39)
topng('╪',12,0x0e2f0+3*12*40)
topng('┘',12,0x0e2f0+3*12*41)
topng('┌',12,0x0e2f0+3*12*42)
topng('█',12,0x0e2f0+3*12*43)
topng('▄',12,0x0e2f0+3*12*44)
topng('▌',12,0x0e2f0+3*12*45)
topng('▐',12,0x0e2f0+3*12*46)
topng('▀',12,0x0e2f0+3*12*47)
